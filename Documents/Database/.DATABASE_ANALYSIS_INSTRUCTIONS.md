# Database Analysis Instructions

**Created**: 2025-10-12
**Purpose**: Clear instructions for database procedure analysis workflow
**Status**: ACTIVE - READ THIS FIRST IN EVERY SESSION

---

## CRITICAL RULE: NO SUGGESTIONS, JUST START

**DO NOT ask which module to analyze**
**DO NOT suggest starting with small modules**
**DO NOT give priority recommendations**
**DO NOT ask for confirmation before starting**

### Just Start Working!

When user says "start analysis" or "begin":
1. Read `.DATABASE_STORED_PROCEDURES_TODO.md`
2. Find first uncompleted procedure in module order (M02 → M03 → M04 → ... → Lab)
3. Analyze that procedure using the template
4. Mark it complete in TODO
5. Move to next procedure
6. Repeat

**No questions. No suggestions. Just work.**

---

## Analysis Order

### Sequential by Module (M02 through Lab System)

Work through procedures in **exact order** as they appear in `.DATABASE_STORED_PROCEDURES_TODO.md`:

1. M02 - Warping (26 procedures)
2. M03 - Beaming (20 procedures)
3. M04 - Drawing (7 procedures)
4. M05 - Weaving (33 procedures)
5. M06 - Finishing (37 procedures)
6. M08 - Inspection (29 procedures)
7. M11 - Cut & Print (7 procedures)
8. M12 - G3 Warehouse (13 procedures)
9. M13 - Packing (11 procedures)
10. M14 - LAB MES (22 procedures)
11. M17 - Master Data (20+ procedures)
12. M19 - D365 Integration (60 procedures)
13. M20 - User Management (2 procedures)
14. M21 - AS400/FTP (16 procedures)
15. Quality Assurance (3 procedures)
16. Shared/Common (14+ procedures)
17. Lab System (27 procedures)

**Priority levels are for REFERENCE ONLY - ignore them for execution order**

---

## Workflow Per Procedure

### Step 1: Find Procedure Source Code
- Open corresponding DataService.cs file
- Search for procedure name
- Find the C# method that calls it
- Note file path and line numbers

### Step 2: Extract Information
- Parameters (IN/OUT)
- Return type (cursor, number, none)
- Tables accessed
- Business logic description
- Usage context

### Step 3: Create Documentation File
- Use `TEMPLATE_INDIVIDUAL_PROCEDURE.md` format
- Create file in `Documents/Database/[ModuleNumber]_[ModuleName]/[NNN]-[PROCEDURE_NAME].md`
- Fill all sections

### Step 4: Update TODO
- Mark procedure as `[x]` in `.DATABASE_STORED_PROCEDURES_TODO.md`
- Update completion percentage

### Step 5: Confirm & Continue
- Report: "✅ [Procedure Name] complete (N/296)"
- Move to next procedure immediately

---

## File Organization

### Directory Structure
```
Documents/Database/
├── .DATABASE_ANALYSIS_INSTRUCTIONS.md (THIS FILE)
├── .DATABASE_STORED_PROCEDURES_TODO.md (Master checklist)
├── TEMPLATE_INDIVIDUAL_PROCEDURE.md (Template)
├── 02_Warping/
│   ├── 001-WARP_CANCELCREELSETUP.md
│   ├── 002-WARP_CHECKPALLET.md
│   └── ... (24 more)
├── 03_Beaming/
│   ├── 027-BEAM_BEAMLIST.md
│   └── ... (19 more)
└── ... (continues for all modules)
```

### File Naming
- **Format**: `[NNN]-[PROCEDURE_NAME].md`
- **Sequential numbering**: 001-296
- **Module folders**: `[ModuleNumber]_[ModuleName]`

---

## Common Mistakes to AVOID

### ❌ DO NOT DO THESE:
1. **Asking which module to start with** - Just start with first incomplete
2. **Suggesting "small modules first"** - Follow sequential order
3. **Asking for confirmation** - Just do the work
4. **Talking about priorities** - They're for reference only
5. **Batch processing** - One procedure at a time, update TODO after each
6. **Creating overview files first** - Create procedure files directly

### ✅ DO THESE:
1. **Read TODO first** - Find next incomplete procedure
2. **Work sequentially** - M02 procedure 1, then 2, then 3...
3. **Update immediately** - Mark complete after each procedure
4. **Report briefly** - "✅ Complete (N/296)" and move on
5. **Keep working** - Until all 296 done or user stops you

---

## Session Resumption

**When starting a new session:**

1. Read `.DATABASE_STORED_PROCEDURES_TODO.md`
2. Find first `[ ]` (uncompleted procedure)
3. Say: "Resuming from [Procedure Name] - [N/296 complete]"
4. Start analyzing immediately
5. No questions, no suggestions

**Example:**
```
Claude: Resuming database analysis. Found 15/296 procedures complete.
        Next: WARP_GETREMAINPALLET (procedure #16)
        Starting analysis...
```

---

## Template Notes

- Template location: `TEMPLATE_INDIVIDUAL_PROCEDURE.md`
- Template is simplified (6 sections, ~100 lines)
- No "Issues & Recommendations" section (user handles this)
- "Query/Code Location" instead of "SQL Definition" (queries are hardcoded in C#)
- Business Logic section explains WHAT and WHY, not HOW

---

## Key Reminders

1. **All 296 procedures will be documented** - Order doesn't matter for completion
2. **Sequential is simplest** - Less cognitive load, easier to track
3. **User decides when to stop** - Not you
4. **No analysis paralysis** - Just start working
5. **Progress tracking is automatic** - TODO file shows X/296

---

## If User Says...

| User Says | You Do |
|-----------|--------|
| "Start analysis" | Begin with first incomplete procedure |
| "Continue" | Resume from last incomplete |
| "Skip to M05" | Start with M05's first procedure |
| "Stop" | Stop and report progress |
| "Status" | Report N/296 complete, list next 5 |

**NO OTHER RESPONSES NEEDED**

---

**Last Updated**: 2025-10-12
**Status**: ACTIVE
**Purpose**: Eliminate unnecessary discussion, maximize productivity

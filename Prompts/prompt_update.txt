# Documentation Update - Code Changes June 24, 2025

## QUICK START

**If continuing from previous session:**
1. Read `.DOCUMENTATION_UPDATE_PROGRESS.md` to see current status
2. Read the appropriate `sessionX_*.txt` file for next tasks
3. Execute that session's tasks

**If starting fresh:**
1. Start with Session 1 (see below)
2. Follow session-by-session approach

---

## CONTEXT

**What happened**: Code update received June 24, 2025
**Impact**: Line numbers shifted in `AirbagSPs.cs` (+92 lines added)
**Result**: 89 documentation files need updates

**Key Changes**:
- GROSSLENGTH field added to Packing module
- CM08 customer-specific label added
- 2 new LAB procedures (flex abrasion testing)
- LAB tensile testing expanded (3-point → 6-point)

---

## APPROACH: 6 Sessions (~1 hour each)

**Total Time**: 6-7 hours

| Session | Focus | Time | Files |
|---------|-------|------|-------|
| 1 | Automated script + TODO | 1h | 104 |
| 2 | Database verification | 1h | 103 |
| 3 | Packing module | 1h | 3 |
| 4 | LAB flex abrasion | 1h | 3 |
| 5 | LAB tensile testing | 1h | 36 |
| 6 | MODERNIZATION + final | 1h | 10 |

---

## REFERENCE DOCUMENTS (Read if needed)

**Detailed Analysis**:
- `Documents/CODE_UPDATE_SUMMARY_2025-06-24.md` - What changed in code
- `Documents/.COMPLETE_DOCUMENTATION_IMPACT_ANALYSIS.md` - All 89 affected files
- `Documents/.DOCUMENTATION_UPDATE_PLAN_MULTISESSION_REVISED.md` - Complete 6-session plan

**Progress Tracking**:
- `Documents/.DOCUMENTATION_UPDATE_PROGRESS.md` - Current status (check this first!)

---

## LINE SHIFT REFERENCE

**Quick Reference Table**:

| Line Range | Shift | Cumulative |
|------------|-------|------------|
| 1-2202 | 0 | 0 |
| 2203-2934 | +2 | +2 |
| 2935-3108 | +14 | +16 |
| 3109-3211 | +13 | +29 |
| 3212-3326 | +27 | +56 |
| 3327+ | +35 | +91 |

**Usage**: Line references in documentation need these adjustments applied.

---

## SESSION OVERVIEW

### Session 1: Automated Script + TODO (1 hour)

**Tasks**:
1. Create Python script for line updates
2. Test on 5 sample files
3. Run on all 103 database procedure docs
4. Verify 10 random files
5. Update `.DATABASE_STORED_PROCEDURES_TODO.md` (296 → 298 procedures)

**Output**: All database docs updated, TODO tracker updated

**Prompt**: `Prompts/session1_automated_script.txt`

---

### Session 2: Database Verification (1 hour)

**Tasks**:
1. Verify Finishing module (17 files, +91 shift)
2. Spot-check Weaving (10 files)
3. Spot-check other modules (10 files)
4. Fix any errors found
5. Create verification report

**Output**: Confidence all line references correct

**Prompt**: `Prompts/session2_database_verification.txt`

---

### Session 3: Packing Module (1 hour)

**Tasks**:
1. Update `040-PROCESS_ORDER_PACKING.md` (add GROSSLENGTH, CM08)
2. Update `041-UI_LOGIC_PACKING_LABEL.md` (add PreviewCM08 method)
3. Update `ACTUAL_IMPLEMENTATIONS_CATALOG.md` (LOC counts)

**Output**: Packing docs complete with new features

**Prompt**: `Prompts/session3_packing_complete.txt`

---

### Session 4: LAB Flex Abrasion (1 hour)

**Tasks**:
1. Create NEW: `012-PROCESS_FLEX_ABRASION_TESTING.md`
2. Update `001-PROCESS_LAB_TEST_OPERATIONS.md`
3. Update `007-PROCESS_LAB_EQUIPMENT_INTEGRATION.md`

**Output**: Flex abrasion fully documented

**Prompt**: `Prompts/session4_lab_flex_abrasion.txt`

---

### Session 5: LAB Tensile Testing (1 hour)

**Tasks**:
1. Update `003-PROCESS_MANUAL_TEST_ENTRY.md` (6-point method)
2. Document 12 new fields (W4-W6, F4-F6)
3. Review remaining LAB docs

**Output**: Tensile testing expanded to 6-point

**Prompt**: `Prompts/session5_lab_tensile.txt`

---

### Session 6: MODERNIZATION + Final (1 hour)

**Tasks**:
1. Update `MODERNIZATION_ANALYSIS.md`
2. Update `MODERNIZATION_UI_NAVIGATION.md`
3. Update `MODERNIZATION_SESSION_TRACKER.md`
4. Final verification (20 files)
5. Create completion report

**Output**: All updates complete, ready to resume procedure 104

**Prompt**: `Prompts/session6_modernization_final.txt`

---

## KEY FILES TO UPDATE

### Database (104 files)
- **103 procedure docs**: Automated line reference updates
- **1 TODO tracker**: Add 2 LAB procedures (LAB_SAVEREPLCFLEXABRASION, LAB_SAVEFLEXABRASIONPLCDATA)

### Packing (3 files)
- `040-PROCESS_ORDER_PACKING.md` - Add GROSSLENGTH + CM08 sections
- `041-UI_LOGIC_PACKING_LABEL.md` - Update LOC (389→414), add PreviewCM08()
- `ACTUAL_IMPLEMENTATIONS_CATALOG.md` - Update LOC counts

### LAB (4 new/updated + 35 line refs)
- CREATE: `012-PROCESS_FLEX_ABRASION_TESTING.md` (new test method)
- UPDATE: `001-PROCESS_LAB_TEST_OPERATIONS.md` (add flex abrasion)
- UPDATE: `003-PROCESS_MANUAL_TEST_ENTRY.md` (6-point tensile)
- UPDATE: `007-PROCESS_LAB_EQUIPMENT_INTEGRATION.md` (PLC integration)
- REVIEW: ~35 other LAB docs for line references

### MODERNIZATION (3 files)
- `MODERNIZATION_ANALYSIS.md` - Update module table, add recent enhancements
- `MODERNIZATION_UI_NAVIGATION.md` - Add CM08 label navigation
- `MODERNIZATION_SESSION_TRACKER.md` - Document update sessions

---

## AUTOMATION SCRIPT (Session 1)

**File**: `update_line_refs.py`

**Key Logic**:
```python
SHIFTS = [
    (2203, 2),
    (2935, 14),   # Cumulative: +16
    (3109, 13),   # Cumulative: +29
    (3212, 27),   # Cumulative: +56
    (3327, 35),   # Cumulative: +91
]

def calculate_shift(line_num):
    shift = 0
    for threshold, amount in SHIFTS:
        if line_num >= threshold:
            shift += amount
    return shift
```

**Pattern**: Finds `Lines**: 7047-7113` and updates to `Lines**: 7138-7204` (example with +91 shift)

**Target**: All `.md` files in `Documents/Database/`, `Documents/LAB/`, `Documents/Processes/`

---

## VERIFICATION CHECKLIST

After all 6 sessions complete:

- [ ] All 103 database docs have updated line references
- [ ] TODO tracker shows 298 procedures (was 296)
- [ ] Packing docs include GROSSLENGTH + CM08
- [ ] LAB flex abrasion fully documented (new file created)
- [ ] LAB tensile updated to 6-point method
- [ ] MODERNIZATION docs reflect changes
- [ ] 20+ files spot-checked and verified
- [ ] Completion report created

---

## NEW STORED PROCEDURES (LAB)

**1. LAB_SAVEREPLCFLEXABRASION**
- **Location**: `AirbagSPs.cs:3212-3238`
- **Purpose**: Save manual flex abrasion test results
- **Parameters**: Item, Lot, 6 test values (W1-W3, F1-F3), Date, Operator

**2. LAB_SAVEFLEXABRASIONPLCDATA**
- **Location**: `AirbagSPs.cs:3327-3361`
- **Purpose**: Save PLC flex abrasion results with pass/fail
- **Parameters**: All above + 6 result flags (PASS/FAIL), TestNo, Retest flag

---

## NEW FIELDS ADDED

**Packing Module**:
- `GROSSLENGTH` (DECIMAL) - Total length including waste
  - Code: `Packing.cs:200`, `PackingDataService.cs:657`, `AirbagSPs.cs:2203`

**LAB Tensile Testing** (12 new fields):
- `MAXFORCE_W4, W5, W6` - Warp max force positions 4-6
- `MAXFORCE_F4, F5, F6` - Fill max force positions 4-6
- `ELONGATIONFORCE_W4, W5, W6` - Warp elongation 4-6
- `ELONGATIONFORCE_F4, F5, F6` - Fill elongation 4-6
- Code: `AirbagSPs.cs:2935-2946, 3109-3121`

---

## NEW UI FEATURES

**CM08 Label**:
- Conditional logic: If `cmID == "08"` → Use `RepPackingLabelCM08.rdlc`
- Code: `PackingLabelPage.xaml.cs:113-119` (conditional), `~117+` (PreviewCM08 method)
- Report: `RepPackingLabelCM08.rdlc` (57KB, created 2025-06-24)

---

## TIME MANAGEMENT

**Per Session**:
- Actual work: 45-55 minutes
- Chat/interruptions: 5-10 minutes
- Context loading: 2-5 minutes
- **Total**: ~1 hour wall-clock

**Total Project**:
- Minimum: 4.5 hours (everything goes smoothly)
- Expected: 5.5 hours (normal pace)
- Maximum: 6.5 hours (with issues/corrections)

---

## AFTER COMPLETION

1. ✅ All 6 sessions marked complete
2. ✅ Verification report created
3. ✅ Completion statistics documented
4. ✅ `.DOCUMENTATION_UPDATE_PROGRESS.md` marked COMPLETE
5. ✅ Ready to resume procedure 104 (Dryer operations)

Optional:
- Commit all changes: `git commit -m "Update docs for June 24 code changes - 6 sessions complete"`
- Delete temporary tracking files if desired

---

## TROUBLESHOOTING

**If script fails**:
- Test on 5 sample files first
- Check file paths are correct
- Verify Python regex patterns work

**If verification finds errors**:
- Note which files need manual correction
- Fix in Session 2 (verification session)
- Document in handoff notes

**If session runs over time**:
- Mark what was completed
- Note remaining tasks in progress tracker
- Resume in next session from that point

---

## SESSION START COMMAND

**To start any session**:

1. Say: "Start Session X" (where X = 1-6)
2. Claude will:
   - Read progress tracker
   - Load session X prompt file
   - Summarize tasks
   - Ask for confirmation
   - Execute tasks

**To auto-resume**:

Say: "Continue documentation updates"
- Claude checks progress tracker
- Identifies next incomplete session
- Proceeds from there

---

**Document Created**: 2025-10-15 (revised)
**Format**: Compact reference guide
**Purpose**: Quick-start documentation update project
**Sessions**: 6 × ~1 hour each
